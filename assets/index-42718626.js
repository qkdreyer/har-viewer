import{o as l,c as i,a as t,u as $,b as c,w as Z,p as P,d as U,e as be,f as N,g as I,r as ne,n as W,h as re,t as r,i as y,j as f,k as R,v as ce,l as M,m as H,q as ee,s as O,F as g,x as oe,y as j,z as B,A as xe,B as X,C as Te,D as ke}from"../js/vue.ecf22e0d.min.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();const $e="/har-viewer/img/loading.56d28ff7.min.svg",Se="/har-viewer/img/alert-circle-outline.b1ccdc82.min.svg",Ee="/har-viewer/img/download.23a56c5c.min.svg",Re="/har-viewer/img/folder-open-outline.811d8de1.min.svg",De="/har-viewer/img/filter-menu-outline.f504f5db.min.svg",Oe="/har-viewer/img/information-outline.95566a01.min.svg";const q=(e,n)=>{const o=e.__vccOpts||e;for(const[s,a]of n)o[s]=a;return o},we=e=>(P("data-v-86bdb370"),e=e(),U(),e),Ie={class:"appbar"},Ae=we(()=>t("div",{class:"brand is-unselectable",role:"banner"},[t("h1",null," HTTP Archive Viewer "),t("h1",null," HAR Viewer ")],-1)),qe={class:"actions"},Ne=["src"],Le=["src"],ze=["src"],Pe=["src"],Ue=we(()=>t("span",null,"Open File",-1)),Fe={__name:"AppBar",props:{isLoaded:{type:Boolean,default:!1}},emits:["action"],setup(e,{emit:n}){return(o,s)=>(l(),i("header",Ie,[Ae,t("div",qe,[e.isLoaded?(l(),i("button",{key:0,type:"button",class:"btn btn-primary-dark",title:"Export file",onClick:s[0]||(s[0]=a=>n("action","export"))},[t("img",{alt:"Download Icon",role:"none",class:"icon",src:$(Ee)},null,8,Ne)])):c("",!0),e.isLoaded?(l(),i("button",{key:1,type:"button",class:"btn btn-primary-dark",title:"Show Info",onClick:s[1]||(s[1]=a=>n("action","info"))},[t("img",{alt:"Information Icon",role:"none",class:"icon",src:$(Oe)},null,8,Le)])):c("",!0),e.isLoaded?(l(),i("button",{key:2,type:"button",class:"btn btn-primary-dark",title:"Filter / Sort / Group",onClick:[s[2]||(s[2]=Z(a=>n("action","sort-and-filter"),["exact"])),s[3]||(s[3]=Z(a=>n("action","sort-and-filter_attached"),["shift"]))]},[t("img",{alt:"Settings Icon",role:"none",class:"icon",src:$(De)},null,8,ze)])):c("",!0),t("button",{type:"button",class:"btn btn-primary-dark",onClick:s[4]||(s[4]=a=>n("action","open"))},[t("img",{alt:"Open Icon",role:"none",class:"icon",src:$(Re)},null,8,Pe),Ue])])]))}},Me=q(Fe,[["__scopeId","data-v-86bdb370"]]);const Ve={class:"modal-header"},Be={key:0,id:"dialog-header",class:"is-unselectable"},He={class:"modal-body"},je={key:0,class:"modal-footer"},We={__name:"Modal",props:{isAttached:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:n}){return be(()=>{const o=document.querySelector("dialog");o&&(o.addEventListener("cancel",s=>{s.preventDefault(),n("close")}),o.showModal())}),(o,s)=>(l(),i("div",{class:W({attached:e.isAttached})},[(l(),N(re(e.isAttached?"div":"dialog"),{"aria-labelledby":e.isAttached?null:"dialog-header",class:W({"modal-container":!e.isAttached})},{default:I(()=>[t("div",Ve,[o.$slots.header?(l(),i("h2",Be,[ne(o.$slots,"header",{},void 0,!0)])):c("",!0)]),t("div",He,[ne(o.$slots,"default",{},void 0,!0)]),o.$slots.footer?(l(),i("div",je,[ne(o.$slots,"footer",{},void 0,!0)])):c("",!0)]),_:3},8,["aria-labelledby","class"]))],2))}},te=q(We,[["__scopeId","data-v-f2695350"]]),Ge=t("span",null,"Info",-1),Ke=t("th",null,"File",-1),Qe=["textContent"],Ye=t("th",null,"Creator",-1),Je=["textContent"],Xe=t("th",null,"HAR Version",-1),Ze=["textContent"],et={__name:"InfoDialog",props:{creator:{type:Object,default:()=>({})},file:{type:String,default:""},version:{type:String,default:""}},emits:["close"],setup(e,{emit:n}){return(o,s)=>(l(),N(te,null,{header:I(()=>[Ge]),footer:I(()=>[t("button",{class:"btn btn-primary",type:"button",onClick:s[0]||(s[0]=a=>n("close"))}," Close ")]),default:I(()=>[t("table",null,[t("tbody",null,[t("tr",null,[Ke,t("td",{textContent:r(e.file)},null,8,Qe)]),t("tr",null,[Ye,t("td",{textContent:r(`${e.creator.name} (${e.creator.version})`)},null,8,Je)]),t("tr",null,[Xe,t("td",{textContent:r(e.version)},null,8,Ze)])])])]),_:1}))}},tt="/har-viewer/img/upload-outline.869b26d5.min.svg",st="/har-viewer/img/download-outline.94919282.min.svg";function nt(e,n){return e.reduce((o,s)=>{const a=n(s);return!o.includes(a)&&a!==void 0&&o.push(a),o},[])}function Ce(e=0,n=2){return+`${Math.round(`${e}e${n}`)}e-${n}`}function A(e,n){return e<n?-1:e>n?1:0}function le(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}async function ot(e){return new Promise((n,o)=>{const s=new FileReader;s.onload=a=>n(a.target.result.toString()),s.onerror=o,s.readAsText(e,"utf-8")})}function ue(e,n){Object.keys(e).forEach(o=>{n(e,o),typeof e[o]=="object"&&e[o]!==null&&ue(e[o],n)})}const at={100:"CONTINUE",101:"SWITCHING_PROTOCOLS",102:"PROCESSING",103:"EARLY_HINTS",200:"OK",201:"CREATED",202:"ACCEPTED",203:"NON_AUTHORITATIVE_INFORMATION",204:"NO_CONTENT",205:"RESET_CONTENT",206:"PARTIAL_CONTENT",207:"MULTI_STATUS",208:"ALREADY_REPORTED",226:"IM_USED",300:"MULTIPLE_CHOICES",301:"MOVED_PERMANENTLY",302:"MOVED_TEMPORARILY",303:"SEE_OTHER",304:"NOT_MODIFIED",305:"USE_PROXY",307:"TEMPORARY_REDIRECT",308:"PERMANENT_REDIRECT",400:"BAD_REQUEST",401:"UNAUTHORIZED",402:"PAYMENT_REQUIRED",403:"FORBIDDEN",404:"NOT_FOUND",405:"METHOD_NOT_ALLOWED",406:"NOT_ACCEPTABLE",407:"PROXY_AUTHENTICATION_REQUIRED",408:"REQUEST_TIMEOUT",409:"CONFLICT",410:"GONE",411:"LENGTH_REQUIRED",412:"PRECONDITION_FAILED",413:"REQUEST_TOO_LONG",414:"REQUEST_URI_TOO_LONG",415:"UNSUPPORTED_MEDIA_TYPE",416:"REQUESTED_RANGE_NOT_SATISFIABLE",417:"EXPECTATION_FAILED",418:"IM_A_TEAPOT",419:"INSUFFICIENT_SPACE_ON_RESOURCE",420:"POLICY_NOT_FULFILLED",421:"MISDIRECTED_REQUEST",422:"UNPROCESSABLE_ENTITY",423:"LOCKED",424:"FAILED_DEPENDENCY",425:"TOO_EARLY",426:"UPGRADE_REQUIRED",428:"PRECONDITION_REQUIRED",429:"TOO_MANY_REQUESTS",431:"REQUEST_HEADER_FIELDS_TOO_LARGE",444:"NO_RESPONSE",449:"THE_REQUEST_SHOULD_BE_RETRIED_AFTER_DOING_THE_APPROPRIATE_ACTION",451:"UNAVAILABLE_FOR_LEGAL_REASONS",499:"CLIENT_CLOSED_REQUEST",500:"INTERNAL_SERVER_ERROR",501:"NOT_IMPLEMENTED",502:"BAD_GATEWAY",503:"SERVICE_UNAVAILABLE",504:"GATEWAY_TIMEOUT",505:"HTTP_VERSION_NOT_SUPPORTED",506:"VARIANT_ALSO_NEGOTIATES",507:"INSUFFICIENT_STORAGE",508:"LOOP_DETECTED",510:"NOT_EXTENDED",511:"NETWORK_AUTHENTICATION_REQUIRED"};function lt(e){if(e.response.status===0)return"unknown";if(e.request.url.startsWith("ws"))return"websocket";const n=e.response.headers.find(s=>s.name==="content-type");if(!n)return"unknown";const o=n.value.match(/[a-z]+\/([a-z-]+).*/);return o.length===2&&o[1]?o[1]:"unknown"}function he(e){const n={headersSize:e.headersSize||0,bodySize:e.bodySize||0,totalSize:0,headersSizeComputed:!1,bodySizeComputed:!1,totalSizeComputed:!1};if(n.headersSize===-1||!n.headersSize){if(e.method)n.headersSize=`${e.method} ${e.url} ${e.httpVersion||"HTTP/1.1"}\r
`.length;else{let{statusText:o}=e;e.status!==0&&!o&&(o=at[e.status].replace("_"," ")),n.headersSize=`${e.status} ${o} ${e.httpVersion}\r
`.length}if(e.headers)for(let o=0;o<e.headers.length;o++)n.headersSize+=`${e.headers[o].name}: ${e.headers[o].value}\r
`.length;if(e.headers&&e.cookies){n.headersSize+=8;for(let o=0;o<e.cookies.length;o++)n.headersSize+=`${e.cookies[o].name}=${e.cookies[o].value}`.length;n.headersSize+=2}n.headersSize+=2,n.headersSizeComputed=!0}return n.bodySize<0&&e.content.size===0&&(n.bodySize=0,n.bodySizeComputed=!0),n.bodySize===-1&&e.content.size&&(n.bodySize=e.content.size,n.bodySizeComputed=!0),n.headersSize!==-1&&(n.totalSize+=n.headersSize),n.bodySize!==-1&&(n.totalSize+=n.bodySize),(n.headersSizeComputed||n.bodySizeComputed)&&(n.totalSizeComputed=!0),n}function it(e){switch(!0){case e.status===0:return"blocked";case e.status<200:return"info";case e.status<300:return"success";case e.status<400:return"redirect";case e.status<500:return"client-error";case e.status<600:return"server-error";default:return"custom"}}function rt(e){return e.status!==0?e.status:e._error?e._error.replace("net::",""):"blocked"}function ut(e,n){const o=lt(n),s=he(n.request),a=he(n.response),u=it(n.response),d=rt(n.response);ue(n,(w,b)=>{b.startsWith("_")&&delete w[b]}),n._harviewer={id:e,resourceType:o,request:s,response:a,statusType:u,statusCode:d,url:n.request.url.split("?")[0],hasImageResponse:n.response.content.encoding==="base64"&&n.response.content.mimeType&&n.response.content.mimeType.startsWith("image/")&&n.response.content.text,webSocketMessages:n._webSocketMessages}}const J=["log","log.version","log.creator","log.creator.name","log.creator.version","log.entries"];function dt(e){for(let n=0;n<J.length;n++)if(!!!J[n].split(".").reduce((s,a)=>s[a],e))throw console.error(`missing key: ${J[n]}`),new Error(`invalid HAR file: missing key '${J[n]}'`)}function ct(e){const n=(o,s)=>A(o.name,s.name);e.request.headers.sort(n),e.request.cookies.sort(n),e.response.headers.sort(n),e.response.cookies.sort(n),e.request.queryString&&e.request.queryString.sort(n),e.request.postData&&e.request.postData.params&&e.request.postData.params.sort(n)}function ie(e){dt(e),e.log.entries.sort((n,o)=>A(n.startedDateTime,o.startedDateTime));for(let n=0;n<e.log.entries.length;n++){const o=e.log.entries[n];ct(o),ut(n,o)}return e.log}const G=e=>(P("data-v-afddfec8"),e=e(),U(),e),ht=G(()=>t("span",null,"Open File",-1)),vt={class:"load-from"},mt=G(()=>t("label",{for:"file"},"File",-1)),_t=G(()=>t("label",{for:"url"},"URL",-1)),pt={class:"load-file"},ft={key:0,for:"filePath"},yt={key:1,class:"file-input"},gt=["src"],bt={key:2,for:"urlPath"},$t={key:3,class:"file-input"},wt=["src"],Ct=["textContent"],xt=["disabled"],Tt=G(()=>t("legend",null,"Initial Filter",-1)),kt=G(()=>t("label",{for:"pages"}," Page ",-1)),St=G(()=>t("option",{value:""}," All ",-1)),Et=["value","textContent"],Rt={key:0,class:"spinner"},Dt=["alt","src"],Ot=["textContent"],It=["disabled"],At={__name:"OpenDialog",emits:["close","open"],setup(e,{emit:n}){const o=y("file"),s=y(""),a=y(""),u=y(!1),d=y(!1),w=y(!1),b=y(""),S=y([]);let m=null,v="";const h=async E=>{if(E){try{new URL(E)}catch{d.value="Invalid URL";return}a.value=E,u.value="Downloading...";try{const x=await(await window.fetch(E)).json();d.value=!1,u.value="Parsing file...",m=ie(x),v=a.value,S.value=m.pages,w.value=!0}catch(_){d.value=_.message}finally{u.value=!1}}},p=async()=>{!w.value&&o.value==="url"&&await h(s.value),!(!v||!m)&&(b.value&&(m.entries=m.entries.filter(E=>E.pageref===b.value),m.pages=m.pages.filter(E=>E.id===b.value)),n("open",{src:v,data:m,filter:{}}))},L=()=>{const E=document.createElement("input");E.type="file",E.accept=".har",E.onchange=async({target:_})=>{if(!(!_.files||_.files.length!==1)){w.value=!1,d.value=!1,a.value=_.files[0].name,u.value="Parsing file...";try{if(_.files[0].type&&_.files[0].type!=="application/json")throw console.error("mime type does not match"),new Error("invalid HAR file: wrong file type");const x=await ot(_.files[0]),se=JSON.parse(x);m=ie(se),v=a.value,S.value=m.pages,w.value=!0}catch(x){d.value=x.message}finally{u.value=!1}}},E.click()};return(E,_)=>(l(),N(te,null,{header:I(()=>[ht]),footer:I(()=>[u.value?(l(),i("div",Rt,[t("img",{alt:u.value,src:$($e)},null,8,Dt),t("span",{class:"is-unselectable",textContent:r(u.value)},null,8,Ot)])):c("",!0),t("button",{class:"btn btn-primary",type:"button",disabled:!(o.value==="file"&&a.value&&!d.value)&&!(o.value==="url"&&s.value&&!d.value),onClick:p}," Open ",8,It),t("button",{class:"btn btn-primary",type:"button",onClick:_[11]||(_[11]=x=>n("close"))}," Cancel ")]),default:I(()=>[t("form",{class:"is-unselectable",onSubmit:_[10]||(_[10]=Z(()=>{},["prevent"]))},[t("div",vt,[f(" Load from: "),R(t("input",{id:"file","onUpdate:modelValue":_[0]||(_[0]=x=>o.value=x),type:"radio",value:"file",onClick:_[1]||(_[1]=x=>{d.value=!1,s.value=""})},null,512),[[ce,o.value]]),mt,R(t("input",{id:"url","onUpdate:modelValue":_[2]||(_[2]=x=>o.value=x),type:"radio",value:"url",onClick:_[3]||(_[3]=x=>{d.value=!1,a.value=""})},null,512),[[ce,o.value]]),_t]),t("div",pt,[o.value==="file"?(l(),i("label",ft," Select the file you want to open: ")):c("",!0),o.value==="file"?(l(),i("div",yt,[R(t("input",{id:"filePath","onUpdate:modelValue":_[4]||(_[4]=x=>a.value=x),type:"text",readonly:""},null,512),[[M,a.value]]),t("button",{class:"btn btn-dark",type:"button",title:"Open file dialog",onClick:L},[t("img",{alt:"Upload Icon",role:"none",class:"icon",src:$(tt)},null,8,gt)])])):c("",!0),o.value==="url"?(l(),i("label",bt," Enter the URL you want to load the file from: ")):c("",!0),o.value==="url"?(l(),i("div",$t,[R(t("input",{id:"urlPath","onUpdate:modelValue":_[5]||(_[5]=x=>s.value=x),type:"text",onKeyup:_[6]||(_[6]=H(()=>h(s.value),["enter"])),onChange:_[7]||(_[7]=x=>w.value=!1)},null,544),[[M,s.value]]),t("button",{class:"btn btn-dark",type:"button",title:"Pre-Download file",onClick:_[8]||(_[8]=()=>h(s.value))},[t("img",{alt:"Download Icon",role:"none",class:"icon",src:$(st)},null,8,wt)])])):c("",!0),d.value?(l(),i("div",{key:4,class:"error",textContent:r(d.value)},null,8,Ct)):c("",!0)]),t("fieldset",{class:"initial-filter",disabled:!w.value},[Tt,kt,R(t("select",{id:"pages","onUpdate:modelValue":_[9]||(_[9]=x=>b.value=x)},[St,(l(!0),i(g,null,O(S.value,x=>(l(),i("option",{key:x.id,value:x.id,textContent:r(x.title)},null,8,Et))),128))],512),[[ee,b.value]])],8,xt)],32)]),_:1}))}},qt=q(At,[["__scopeId","data-v-afddfec8"]]),Nt="/har-viewer/img/pin-outline.6048039b.min.svg",Lt="/har-viewer/img/pin-off-outline.6c0303ab.min.svg";const T=e=>(P("data-v-5f27137c"),e=e(),U(),e),zt={class:"dialog-header row"},Pt=["textContent"],Ut=["title"],Ft=["src"],Mt=["src"],Vt={class:"column is-unselectable"},Bt={class:"filter-group"},Ht=T(()=>t("legend",null,"Filter",-1)),jt=T(()=>t("label",{for:"methods"}," Methods ",-1)),Wt=["onKeyup"],Gt=T(()=>t("label",{for:"status"}," Status ",-1)),Kt=["onKeyup"],Qt=T(()=>t("label",{for:"domains"}," Domains ",-1)),Yt=["onKeyup"],Jt=T(()=>t("label",{for:"resource-types"}," Resource Types ",-1)),Xt=["onKeyup"],Zt={class:"sort-group"},es=T(()=>t("label",{for:"sort"}," Sort By ",-1)),ts=T(()=>t("option",{value:""}," Nothing ",-1)),ss=T(()=>t("option",{value:"status"}," Status (Ascending) ",-1)),ns=T(()=>t("option",{value:"status-reverse"}," Status (Descending) ",-1)),os=T(()=>t("option",{value:"timing"}," Timing (Ascending) ",-1)),as=T(()=>t("option",{value:"timing-reverse"}," Timing (Descending) ",-1)),ls=T(()=>t("option",{value:"reqSize"}," Request Size (Ascending) ",-1)),is=T(()=>t("option",{value:"reqSize-reverse"}," Request Size (Descending) ",-1)),rs=T(()=>t("option",{value:"resSize"}," Response Size (Ascending) ",-1)),us=T(()=>t("option",{value:"resSize-reverse"}," Response Size (Descending) ",-1)),ds=[ts,ss,ns,os,as,ls,is,rs,us],cs=T(()=>t("label",{for:"group"}," Group By ",-1)),hs=T(()=>t("option",{value:""}," Nothing ",-1)),vs=T(()=>t("option",{value:"method"}," Method ",-1)),ms=T(()=>t("option",{value:"status"}," Status ",-1)),_s=T(()=>t("option",{value:"status-type"}," Status Type ",-1)),ps=T(()=>t("option",{value:"resource-type"}," Resource Type ",-1)),fs=T(()=>t("option",{value:"domain"}," Domain ",-1)),ys=[hs,vs,ms,_s,ps,fs],gs={__name:"PropDialog",props:{filter:{type:Object,default:()=>({})},isAttached:{type:Boolean,default:!1}},emits:["apply","close","attach"],setup(e,{emit:n}){const o=e,s=y(o.filter.filter.methods),a=y(o.filter.filter.status),u=y(o.filter.filter.resType),d=y(o.filter.filter.domains),w=y(o.filter.sortBy),b=y(o.filter.groupBy),S=()=>{n("apply",{filter:{methods:s.value.toLowerCase(),status:a.value,resType:u.value.toLowerCase(),domains:d.value.toLowerCase()},sortBy:w.value,groupBy:b.value})},m=()=>{s.value="",a.value="",d.value="",u.value="",w.value="",b.value="",n("apply",{filter:{methods:s.value.toLowerCase(),status:a.value,resType:u.value.toLowerCase(),domains:d.value.toLowerCase()},sortBy:w.value,groupBy:b.value})};return(v,h)=>(l(),N(te,{"is-attached":e.isAttached,onClose:h[8]||(h[8]=p=>n("close"))},{header:I(()=>[t("div",zt,[t("span",{textContent:r(e.isAttached?"":"Filter / Sort / Group")},null,8,Pt),t("button",{class:"btn btn-icon btn-attach",type:"button",title:e.isAttached?"Detach filter from main window":"Attach filter to main window",onClick:h[0]||(h[0]=p=>n("attach"))},[e.isAttached?(l(),i("img",{key:0,alt:"Detach Icon",class:"icon",role:"none",src:$(Lt)},null,8,Ft)):(l(),i("img",{key:1,alt:"Attach Icon",class:"icon",role:"none",src:$(Nt)},null,8,Mt))],8,Ut)])]),footer:I(()=>[t("button",{class:"btn btn-primary",type:"button",onClick:S}," Apply "),t("button",{class:"btn btn-reset",type:"button",onClick:m}," Reset "),e.isAttached?c("",!0):(l(),i("button",{key:0,class:"btn btn-primary",type:"button",onClick:h[7]||(h[7]=p=>n("close"))}," Cancel "))]),default:I(()=>[t("form",Vt,[t("fieldset",Bt,[Ht,jt,R(t("input",{id:"methods","onUpdate:modelValue":h[1]||(h[1]=p=>s.value=p),type:"text",title:"Multiple methods can be specified separated by commas. Use ! to exclude methods.",onKeyup:H(S,["enter"])},null,40,Wt),[[M,s.value]]),Gt,R(t("input",{id:"status","onUpdate:modelValue":h[2]||(h[2]=p=>a.value=p),type:"text",title:"Multiple status can be specified separated by commas or using ranges. Use ! to exclude status.",onKeyup:H(S,["enter"])},null,40,Kt),[[M,a.value]]),Qt,R(t("input",{id:"domains","onUpdate:modelValue":h[3]||(h[3]=p=>d.value=p),type:"text",title:"Multiple domains can be specified separated by commas. Use ! to exclude domains or * as wildcard.",onKeyup:H(S,["enter"])},null,40,Yt),[[M,d.value]]),Jt,R(t("input",{id:"resource-types","onUpdate:modelValue":h[4]||(h[4]=p=>u.value=p),type:"text",title:"Multiple resource types can be specified separated by commas. Use ! to exclude resource types.",onKeyup:H(S,["enter"])},null,40,Xt),[[M,u.value]])]),t("div",Zt,[es,R(t("select",{id:"sort","onUpdate:modelValue":h[5]||(h[5]=p=>w.value=p)},ds,512),[[ee,w.value]]),cs,R(t("select",{id:"group","onUpdate:modelValue":h[6]||(h[6]=p=>b.value=p)},ys,512),[[ee,b.value]])])])]),_:1},8,["is-attached"]))}},bs=q(gs,[["__scopeId","data-v-5f27137c"]]);const K=e=>(P("data-v-2fbea36b"),e=e(),U(),e),$s=K(()=>t("label",{for:"filename"},"Filename",-1)),ws=K(()=>t("label",{for:"filter"},"Respect filter",-1)),Cs=K(()=>t("label",{for:"redact"},"Redact sensitive values",-1)),xs={key:0},Ts=K(()=>t("label",{for:"redactWordList"},"Custom Word List",-1)),ks=K(()=>t("label",{for:"format"},"Output Format",-1)),Ss=["value"],Es={key:1},Rs=K(()=>t("label",{for:"csvExcel",title:"Allows to open the csv directly in MS Excel without using data import"}," Add MS Excel metadata ",-1)),Ds={__name:"ExportDialog",emits:["close","export"],setup(e,{emit:n}){const o={har:"HTTP Archive",postman:"Postman Collection",csv:"CSV (Reduced)"},s=y(`exported_${new Date().toISOString().split("T")[0]}`),a=y(!0),u=y(!1),d=y(""),w=y("har"),b=y(!1),S=()=>n("export",{format:w.value,filename:s.value,onlyFiltered:a.value,redact:u.value,csvExcel:b.value,redactWordList:d.value});return(m,v)=>(l(),N(te,null,{header:I(()=>[f(" Export ")]),footer:I(()=>[t("button",{class:"btn btn-dark",type:"button",onClick:v[7]||(v[7]=h=>n("close"))}," Cancel "),t("button",{class:"btn btn-primary",type:"button",onClick:S}," Export ")]),default:I(()=>[t("form",{class:"is-unselectable",onSubmit:v[6]||(v[6]=Z(()=>{},["prevent"]))},[t("div",null,[$s,R(t("input",{id:"filename","onUpdate:modelValue":v[0]||(v[0]=h=>s.value=h),type:"text"},null,512),[[M,s.value]])]),t("div",null,[ws,R(t("input",{id:"filter","onUpdate:modelValue":v[1]||(v[1]=h=>a.value=h),type:"checkbox"},null,512),[[oe,a.value]])]),t("div",null,[Cs,R(t("input",{id:"redact","onUpdate:modelValue":v[2]||(v[2]=h=>u.value=h),type:"checkbox"},null,512),[[oe,u.value]])]),u.value?(l(),i("div",xs,[Ts,R(t("textarea",{id:"redactWordList","onUpdate:modelValue":v[3]||(v[3]=h=>d.value=h),rows:"3",placeholder:"Separated by comma (leave empty to use default values)"},null,512),[[M,d.value]])])):c("",!0),t("div",null,[ks,R(t("select",{id:"format","onUpdate:modelValue":v[4]||(v[4]=h=>w.value=h)},[(l(),i(g,null,O(o,(h,p)=>t("option",{key:p,value:p},r(h),9,Ss)),64))],512),[[ee,w.value]])]),w.value==="csv"?(l(),i("div",Es,[Rs,R(t("input",{id:"csvExcel","onUpdate:modelValue":v[5]||(v[5]=h=>b.value=h),type:"checkbox"},null,512),[[oe,b.value]])])):c("",!0)],32)]),_:1}))}},Os=q(Ds,[["__scopeId","data-v-2fbea36b"]]),Is="/har-viewer/img/chevron-left.63017df5.min.svg";const As=["title"],qs=["textContent"],Ns={class:"timing"},Ls=["textContent"],zs=["textContent"],Ps=["textContent"],Us={__name:"RequestCard",props:{data:{type:Object,required:!0},active:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const o=Ce;return(s,a)=>(l(),i("div",{class:W(["request-card",{active:e.active}]),title:e.data._harviewer.url,role:"button",tabindex:"0",onClick:a[0]||(a[0]=u=>n("click")),onKeydown:a[1]||(a[1]=H(u=>n("click"),["enter"]))},[t("b",{class:"method",textContent:r(e.data.request.method)},null,8,qs),t("span",Ns,r($(o)(e.data.time))+" ms ",1),e.data._harviewer.statusType!=="blocked"?(l(),i("span",{key:0,class:"type",textContent:r(e.data._harviewer.resourceType)},null,8,Ls)):c("",!0),t("div",{class:W(`tag tag-${e.data._harviewer.statusType}`),textContent:r(e.data._harviewer.statusCode)},null,10,zs),t("div",{class:"url overflow-text is-unselectable",textContent:r(e.data._harviewer.url)},null,8,Ps)],42,As))}},ve=q(Us,[["__scopeId","data-v-3a61a4b6"]]);const Fs=["role"],Ms=["value"],Vs=["value","textContent"],Bs=["onClick","textContent"],Hs={__name:"TabBar",props:{currentTab:{type:String,default:"request"},asDialog:{type:Boolean,default:!1},tabs:{type:Array,default:()=>[]}},emits:["change"],setup(e,{emit:n}){return(o,s)=>(l(),i("nav",{class:"tabbar",role:e.asDialog?null:"tablist"},[e.asDialog?(l(),i("select",{key:0,value:e.currentTab,onChange:s[0]||(s[0]=a=>n("change",a.target.value))},[(l(!0),i(g,null,O(e.tabs,a=>(l(),i("option",{key:a.name,value:a.name,textContent:r(a.displayName)},null,8,Vs))),128))],40,Ms)):(l(!0),i(g,{key:1},O(e.tabs,a=>(l(),i("button",{key:a.name,class:W([{active:e.currentTab===a.name},"btn btn-dark"]),type:"button",role:"tab",onClick:u=>n("change",a.name),textContent:r(a.displayName)},null,10,Bs))),128))],8,Fs))}},js=q(Hs,[["__scopeId","data-v-e34100f6"]]),Ws={class:"tab-content overflow-text"},Gs={key:0},Ks=t("h1",null,"Sent",-1),Qs=["textContent"],Ys={key:0},Js={key:1},Xs=t("h1",null,"Received",-1),Zs=["textContent"],en={key:0},tn={__name:"CookieTab",props:{data:{type:Object,required:!0}},setup(e){return(n,o)=>(l(),i("div",Ws,[e.data.request.cookies.length!==0?(l(),i("section",Gs,[Ks,t("ul",null,[(l(!0),i(g,null,O(e.data.request.cookies,s=>(l(),i("li",{key:s.name},[t("b",{textContent:r(s.name)},null,8,Qs),t("ul",null,[t("li",null,"Value: "+r(s.value),1),s.domain?(l(),i("li",Ys," Domain: "+r(s.domain),1)):c("",!0),t("li",null,"Path: "+r(s.path||"/"),1),t("li",null,"Expires: "+r(s.expires||"Session"),1)])]))),128))])])):c("",!0),e.data.response.cookies.length!==0?(l(),i("section",Js,[Xs,t("ul",null,[(l(!0),i(g,null,O(e.data.response.cookies,s=>(l(),i("li",{key:s.name},[t("b",{textContent:r(s.name)},null,8,Zs),t("ul",null,[t("li",null,"Value: "+r(s.value),1),s.domain?(l(),i("li",en," Domain: "+r(s.domain),1)):c("",!0),t("li",null,"Path: "+r(s.path||"/"),1),t("li",null,"Expires: "+r(s.expires||"Session"),1)])]))),128))])])):c("",!0)]))}};const de=e=>(P("data-v-ca798ae5"),e=e(),U(),e),sn={key:0,class:"tab-content overflow-text"},nn=de(()=>t("h1",null,"Type",-1)),on=["textContent"],an={key:0},ln=de(()=>t("h1",null,"Parameters",-1)),rn={key:1},un={key:1},dn=de(()=>t("h1",null,"Content",-1)),cn=["textContent"],hn={__name:"PostDataTab",props:{data:{type:Object,required:!0}},setup(e){const n=e,o=j(()=>{if(n.data.request.postData.mimeType.includes("application/json"))try{const s=JSON.parse(n.data.request.postData.text);return JSON.stringify(s,null,2)}catch{}return n.data.request.postData.text});return(s,a)=>e.data.request.postData?(l(),i("div",sn,[t("section",null,[nn,t("span",{textContent:r(e.data.request.postData.mimeType)},null,8,on)]),e.data.request.postData.params.length!==0?(l(),i("section",an,[ln,t("ul",null,[(l(!0),i(g,null,O(e.data.request.postData.params,u=>(l(),i("li",{key:u.name},[u.value?(l(),i(g,{key:0},[t("b",null,r(u.name),1),f(": "+r(u.value),1)],64)):(l(),i("b",rn,r(u.name),1))]))),128))])])):(l(),i("section",un,[dn,t("pre",null,[t("code",{textContent:r(o.value)},null,8,cn)])]))])):c("",!0)}},vn=q(hn,[["__scopeId","data-v-ca798ae5"]]),mn={class:"tab-content overflow-text"},_n=t("h1",null,"General",-1),pn={class:"data-table no-align"},fn=t("th",{style:{"vertical-align":"top"}}," Request URL ",-1),yn=["textContent"],gn=t("th",null,"Request Method",-1),bn=["textContent"],$n={key:0},wn=t("th",null,"HTTP Version",-1),Cn=["textContent"],xn={key:1},Tn=t("th",{style:{"min-width":"131px"}}," Remote Address ",-1),kn=["textContent"],Sn=t("h1",null,"Headers",-1),En={key:0},Rn=t("h1",null,"Query Arguments",-1),Dn=t("h1",null,"Size",-1),On={class:"data-table"},In=t("th",null,"Headers",-1),An=t("th",null,"Body",-1),qn=t("th",null,"Total",-1),Nn={key:1},Ln=t("h1",null,"Initiator",-1),zn={class:"data-table no-align"},Pn=t("th",null,"Type",-1),Un=["textContent"],Fn={key:0},Mn=t("th",null,"Url",-1),Vn=["textContent"],Bn={key:1},Hn=t("th",null,"Line Number",-1),jn=["textContent"],Wn={key:0},Gn={style:{"margin-top":".25rem"}},Kn=t("summary",{class:"is-unselectable"}," Call Stack ",-1),Qn=t("br",null,null,-1),Yn={__name:"RequestTab",props:{data:{type:Object,required:!0}},setup(e){return(n,o)=>(l(),i("div",mn,[t("i",null,[f("Request on "),t("time",null,r(e.data.startedDateTime),1)]),t("section",null,[_n,t("table",pn,[t("tbody",null,[t("tr",null,[fn,t("td",{textContent:r(e.data.request.url.split("?")[0])},null,8,yn)]),t("tr",null,[gn,t("td",{textContent:r(e.data.request.method)},null,8,bn)]),e.data.request.httpVersion?(l(),i("tr",$n,[wn,t("td",{textContent:r(e.data.request.httpVersion)},null,8,Cn)])):c("",!0),e.data.serverIPAddress?(l(),i("tr",xn,[Tn,t("td",{textContent:r(e.data.serverIPAddress)},null,8,kn)])):c("",!0)])])]),t("section",null,[Sn,t("ul",null,[(l(!0),i(g,null,O(e.data.request.headers,s=>(l(),i("li",{key:s.name},[t("b",null,r(s.name),1),f(": "+r(s.value),1)]))),128))])]),e.data.request.queryString.length!==0?(l(),i("section",En,[Rn,t("ul",null,[(l(!0),i(g,null,O(e.data.request.queryString,s=>(l(),i("li",{key:s.name},[t("b",null,r(s.name),1),f(": "+r(s.value),1)]))),128))])])):c("",!0),t("section",null,[Dn,t("table",On,[t("tbody",null,[t("tr",null,[In,t("td",null,[e.data._harviewer.request.headersSize!==-1?(l(),i(g,{key:0},[f(r(e.data._harviewer.request.headersSize)+" bytes ",1),e.data._harviewer.request.headersSizeComputed?(l(),i(g,{key:0},[f(" (computed) ")],64)):c("",!0)],64)):(l(),i(g,{key:1},[f(" (not available) ")],64))])]),t("tr",null,[An,t("td",null,[e.data._harviewer.request.bodySize!==-1?(l(),i(g,{key:0},[f(r(e.data._harviewer.request.bodySize)+" bytes ",1),e.data._harviewer.request.bodySizeComputed?(l(),i(g,{key:0},[f(" (computed) ")],64)):c("",!0)],64)):(l(),i(g,{key:1},[f(" (not available) ")],64))])]),t("tr",null,[qn,t("td",null,[f(r(e.data._harviewer.request.totalSize)+" bytes ",1),e.data._harviewer.request.totalSizeComputed?(l(),i(g,{key:0},[f(" (computed) ")],64)):c("",!0)])])])])]),e.data._initiator?(l(),i("section",Nn,[Ln,t("table",zn,[t("tbody",null,[t("tr",null,[Pn,t("td",{textContent:r(e.data._initiator.type)},null,8,Un)]),e.data._initiator.type==="parser"||e.data._initiator.type==="preflight"?(l(),i("tr",Fn,[Mn,t("td",{textContent:r(e.data._initiator.url)},null,8,Vn)])):c("",!0),e.data._initiator.type==="parser"?(l(),i("tr",Bn,[Hn,t("td",{textContent:r(e.data._initiator.lineNumber)},null,8,jn)])):c("",!0)])]),e.data._initiator.type==="script"&&e.data._initiator.stack.callFrames.length>0?(l(),i("div",Wn,[t("details",Gn,[Kn,t("ul",null,[(l(!0),i(g,null,O(e.data._initiator.stack.callFrames,(s,a)=>(l(),i("li",{key:a},[f(r(s.scriptId)+": "+r(s.functionName)+" ("+r(s.lineNumber)+":"+r(s.columnNumber)+")",1),Qn,f(" "+r(s.url),1)]))),128))])])])):c("",!0)])):c("",!0)]))}};const Y=e=>(P("data-v-14678106"),e=e(),U(),e),Jn={key:0,class:"tab-content overflow-text"},Xn=Y(()=>t("h1",null,"Size",-1)),Zn={key:0},eo=Y(()=>t("h1",null,"Encoding",-1)),to=Y(()=>t("h1",null,"Mime Type",-1)),so={key:1,class:"content-section"},no=Y(()=>t("h1",{style:{"margin-bottom":".5rem"}}," Content ",-1)),oo=["textContent"],ao={key:1},lo=Y(()=>t("summary",{class:"is-unselectable"}," Show content ",-1)),io=["src"],ro={key:1},uo=["textContent"],co={__name:"ResponseContentTab",props:{data:{type:Object,required:!0}},setup(e){const n=e,o=j(()=>{if(n.data.response.content.mimeType.includes("application/json"))try{const s=JSON.parse(n.data.response.content.text);return JSON.stringify(s,null,2)}catch{}return n.data.response.content.text});return(s,a)=>e.data.response.content?(l(),i("div",Jn,[t("section",null,[Xn,f(" "+r(e.data.response.content.size)+" bytes ",1)]),e.data.response.content.encoding?(l(),i("section",Zn,[eo,f(" "+r(e.data.response.content.encoding),1)])):c("",!0),t("section",null,[to,f(" "+r(e.data.response.content.mimeType),1)]),e.data.response.content.text||e.data.response.content.comment?(l(),i("section",so,[no,e.data.response.content.comment?(l(),i("span",{key:0,textContent:r(e.data.response.content.comment)},null,8,oo)):c("",!0),e.data.response.content.text?(l(),i("details",ao,[lo,e.data._harviewer.hasImageResponse?(l(),i("img",{key:0,alt:"Response Content",src:`data:${e.data.response.content.mimeType};base64,${e.data.response.content.text}`},null,8,io)):(l(),i("pre",ro,[t("code",{textContent:r(o.value)},null,8,uo)]))])):c("",!0)])):c("",!0)])):c("",!0)}},ho=q(co,[["__scopeId","data-v-14678106"]]),vo={key:0,class:"tab-content overflow-text"},mo=t("h1",null,"Send",-1),_o=["textContent"],po=t("h1",null,"Receive",-1),fo=["textContent"],yo={__name:"WebsocketTab",props:{data:{type:Object,required:!0}},setup(e){return(n,o)=>e.data._webSocketMessages?(l(),i("div",vo,[t("section",null,[mo,t("ul",null,[(l(!0),i(g,null,O(e.data._webSocketMessages.filter(s=>s.type==="send"),(s,a)=>(l(),i("li",{key:a},[t("b",null,"Time: "+r(s.time),1),t("ul",null,[t("li",null,"OP Code: "+r(s.opcode),1),t("li",null,[f("Data: "),t("code",{textContent:r(s.data)},null,8,_o)])])]))),128))])]),t("section",null,[po,t("ul",null,[(l(!0),i(g,null,O(e.data._webSocketMessages.filter(s=>s.type==="receive"),(s,a)=>(l(),i("li",{key:a},[t("b",null,"Time: "+r(s.time),1),t("ul",null,[t("li",null,"OP Code: "+r(s.opcode),1),t("li",null,[f("Data: "),t("code",{textContent:r(s.data)},null,8,fo)])])]))),128))])])])):c("",!0)}};const Q=e=>(P("data-v-f522700e"),e=e(),U(),e),go={class:"tab-content overflow-text"},bo={key:0},$o={key:1,class:"error"},wo=["textContent"],Co={key:2},xo=Q(()=>t("h1",null,"Headers",-1)),To={key:3},ko=Q(()=>t("h1",null,"Cache",-1)),So={key:4},Eo=Q(()=>t("h1",null,"Size",-1)),Ro={class:"data-table"},Do=Q(()=>t("th",null,"Headers",-1)),Oo=Q(()=>t("th",null,"Body",-1)),Io=Q(()=>t("th",null,"Total",-1)),Ao={__name:"ResponseTab",props:{data:{type:Object,required:!0}},setup(e){return(n,o)=>(l(),i("div",go,[e.data.response.status!==0?(l(),i("i",bo,r(e.data.response.status)+" "+r(e.data.response.statusText)+" "+r(e.data.response.httpVersion),1)):(l(),i("section",$o,[t("b",{textContent:r(e.data.response._error||"This request has been blocked!")},null,8,wo)])),e.data.response.status!==0?(l(),i("section",Co,[xo,t("ul",null,[(l(!0),i(g,null,O(e.data.response.headers,s=>(l(),i("li",{key:s.name},[t("b",null,r(s.name),1),f(": "+r(s.value),1)]))),128))])])):c("",!0),e.data.cache&&Object.keys(e.data.cache).length!==0?(l(),i("section",To,[ko,f(" "+r(e.data.cache),1)])):c("",!0),e.data.response.status!==0?(l(),i("section",So,[Eo,t("table",Ro,[t("tbody",null,[t("tr",null,[Do,t("td",null,[e.data._harviewer.response.headersSize!==-1?(l(),i(g,{key:0},[f(r(e.data._harviewer.response.headersSize)+" bytes ",1),e.data._harviewer.response.headersSizeComputed?(l(),i(g,{key:0},[f(" (computed) ")],64)):c("",!0)],64)):(l(),i(g,{key:1},[f(" (not available) ")],64))])]),t("tr",null,[Oo,t("td",null,[e.data._harviewer.response.bodySize!==-1?(l(),i(g,{key:0},[f(r(e.data._harviewer.response.bodySize)+" bytes ",1),e.data._harviewer.response.bodySizeComputed?(l(),i(g,{key:0},[f(" (computed) ")],64)):c("",!0)],64)):(l(),i(g,{key:1},[f(" (not available) ")],64))])]),t("tr",null,[Io,t("td",null,[f(r(e.data._harviewer.response.totalSize)+" bytes ",1),e.data._harviewer.response.totalSizeComputed?(l(),i(g,{key:0},[f(" (computed) ")],64)):c("",!0)])])])])])):c("",!0)]))}},qo=q(Ao,[["__scopeId","data-v-f522700e"]]);const D=e=>(P("data-v-250d3d08"),e=e(),U(),e),No={class:"tab-content overflow-text"},Lo={key:0,class:"timing"},zo={class:"data-table"},Po=D(()=>t("thead",null,[t("tr",null,[t("th",{colspan:"3"}," Connection Start ")])],-1)),Uo=D(()=>t("td",{class:"timing-blocked"},null,-1)),Fo=D(()=>t("th",null,"Stalled",-1)),Mo=D(()=>t("td",{class:"timing-dns"},null,-1)),Vo=D(()=>t("th",null,"DNS Lookup",-1)),Bo=D(()=>t("td",{class:"timing-ssl"},null,-1)),Ho=D(()=>t("th",null,"SSL",-1)),jo=D(()=>t("td",{class:"timing-connect"},null,-1)),Wo=D(()=>t("th",null,"Initial Connection",-1)),Go=D(()=>t("thead",null,[t("tr",null,[t("th",{colspan:"3",class:"total"}," Request/Response ")])],-1)),Ko=D(()=>t("td",{class:"timing-send"},null,-1)),Qo=D(()=>t("th",null,"Request Sent",-1)),Yo=D(()=>t("td",{class:"timing-wait"},null,-1)),Jo=D(()=>t("th",null,"Waiting (TTFB)",-1)),Xo=D(()=>t("td",{class:"timing-receive"},null,-1)),Zo=D(()=>t("th",null,"Content Downloaded",-1)),ea=D(()=>t("th",{colspan:"2"}," Total time ",-1)),ta={__name:"TimingTab",props:{data:{type:Object,required:!0}},setup(e){const n=e,o=Ce,s=j(()=>n.data.timings.ssl>0&&n.data.timings.connect>0&&n.data.timings.connect>n.data.timings.ssl?n.data.timings.connect-n.data.timings.ssl:n.data.timings.connect);return(a,u)=>(l(),i("div",No,[e.data.time?(l(),i("div",Lo,[e.data.timings.blocked>0?(l(),i("div",{key:0,class:"timing-blocked",style:B(`width: ${e.data.timings.blocked/e.data.time*100}%`)},null,4)):c("",!0),e.data.timings.dns>0?(l(),i("div",{key:1,class:"timing-dns",style:B(`width: ${e.data.timings.dns/e.data.time*100}%`)},null,4)):c("",!0),e.data.timings.connect>0?(l(),i("div",{key:2,class:"timing-connect",style:B(`width: ${s.value/e.data.time*100}%`)},null,4)):c("",!0),e.data.timings.send>0?(l(),i("div",{key:3,class:"timing-send",style:B(`width: ${e.data.timings.send/e.data.time*100}%`)},null,4)):c("",!0),e.data.timings.wait>0?(l(),i("div",{key:4,class:"timing-wait",style:B(`width: ${e.data.timings.wait/e.data.time*100}%`)},null,4)):c("",!0),e.data.timings.receive>0?(l(),i("div",{key:5,class:"timing-receive",style:B(`width: ${e.data.timings.receive/e.data.time*100}%`)},null,4)):c("",!0),e.data.timings.ssl>0?(l(),i("div",{key:6,class:"timing-ssl",style:B(`width: ${e.data.timings.ssl/e.data.time*100}%`)},null,4)):c("",!0)])):c("",!0),t("table",zo,[Po,t("tbody",null,[t("tr",null,[Uo,Fo,t("td",null,r(e.data.timings.blocked>0?`${$(o)(e.data.timings.blocked)} ms`:"Does not apply"),1)]),t("tr",null,[Mo,Vo,t("td",null,r(e.data.timings.dns>0?`${$(o)(e.data.timings.dns)} ms`:"Does not apply"),1)]),t("tr",null,[Bo,Ho,t("td",null,r(e.data.timings.ssl>0?`${$(o)(e.data.timings.ssl)} ms`:"Does not apply"),1)]),t("tr",null,[jo,Wo,t("td",null,r(e.data.timings.connect>0?`${$(o)(s.value)} ms`:"Does not apply"),1)])]),Go,t("tbody",null,[t("tr",null,[Ko,Qo,t("td",null,r(e.data.timings.send>0?`${$(o)(e.data.timings.send)} ms`:"Does not apply"),1)]),t("tr",null,[Yo,Jo,t("td",null,r(e.data.timings.wait>0?`${$(o)(e.data.timings.wait)} ms`:"Does not apply"),1)]),t("tr",null,[Xo,Zo,t("td",null,r(e.data.timings.receive>0?`${$(o)(e.data.timings.receive)} ms`:"Does not apply"),1)])]),t("tfoot",null,[t("tr",null,[ea,t("td",null,r($(o)(e.data.time))+" ms",1)])])])]))}},sa=q(ta,[["__scopeId","data-v-250d3d08"]]),me={Informational:0,Success:1,Redirection:2,"Client Error":3,"Server Error":4,Unknown:5},_e={GET:0,POST:1,PATCH:2,PUT:3,DELETE:4,OPTIONS:5,HEAD:6,CONNECT:7,TRACE:8},na=[{name:"request",displayName:"Request"},{name:"postData",displayName:"Post Data"},{name:"response",displayName:"Response"},{name:"responseContent",displayName:"Response Content"},{name:"websocket",displayName:"Websocket"},{name:"cookies",displayName:"Cookies"},{name:"timing",displayName:"Timing"}];const oa={class:"har-viewer"},aa={class:"request-list"},la=["textContent"],ia={class:"group"},ra={key:0,class:"navbar"},ua=["src"],da={key:1,class:"container column"},ca={class:"tabs",role:"tabpanel"},ha={__name:"HarViewer",props:{data:{type:Array,required:!0}},setup(e){const n=e,o=y(0),s=y(!1),a=y("request"),u=j(()=>nt(n.data,v=>v._harviewer.group)),d=j(()=>o.value!==-1?n.data.find(v=>v._harviewer.id===o.value):null),w={request:Yn,postData:vn,response:qo,responseContent:ho,websocket:yo,cookies:tn,timing:sa};function b(v){return na.filter(h=>v&&!(h.name==="websocket"&&!v.request.url.startsWith("ws"))&&!(h.name==="postData"&&!v.request.postData)&&!(h.name==="responseContent"&&v.response.bodySize<0&&v.response.content&&v.response.content.size<0)&&!(h.name==="cookies"&&v.request.cookies.length===0&&v.response.cookies.length===0)&&!(h.name==="timing"&&Object.keys(v.timings).length===0))}const S=j(()=>b(d.value)),m=v=>{o.value=v,b(d.value).find(p=>p.name===a.value)||(a.value="request"),window.innerWidth<=475&&(s.value=!0)};return xe(d,()=>{n.data.find(v=>v._harviewer.id===o.value)||(o.value=n.data[0]._harviewer.id)}),(v,h)=>(l(),i("div",oa,[t("aside",aa,[u.value.length!==0?(l(!0),i(g,{key:0},O(u.value,p=>(l(),i(g,{key:p},[t("b",{class:"group-label",textContent:r(p)},null,8,la),t("div",ia,[(l(!0),i(g,null,O(e.data.filter(L=>L._harviewer.group===p),L=>(l(),N(ve,{key:L._harviewer.id,data:L,active:o.value===L._harviewer.id,onClick:()=>m(L._harviewer.id)},null,8,["data","active","onClick"]))),128))])],64))),128)):(l(!0),i(g,{key:1},O(e.data,p=>(l(),N(ve,{key:p._harviewer.id,data:p,active:o.value===p._harviewer.id,onClick:()=>m(p._harviewer.id)},null,8,["data","active","onClick"]))),128))]),t("div",{class:W(["request-details",{show:s.value}])},[s.value?(l(),i("div",ra,[t("button",{class:"btn btn-primary-dark",type:"button",onClick:h[0]||(h[0]=p=>{s.value=!1,d.value=null})},[t("img",{alt:"Close dialog",class:"icon",src:$(Is)},null,8,ua)])])):c("",!0),d.value?(l(),i("div",da,[X(js,{"current-tab":a.value,"as-dialog":s.value,tabs:S.value,onChange:h[1]||(h[1]=p=>a.value=p)},null,8,["current-tab","as-dialog","tabs"]),t("div",ca,[(l(),N(re(w[a.value]),{data:d.value},null,8,["data"]))])])):c("",!0)],2)]))}},va=q(ha,[["__scopeId","data-v-029773fb"]]);const ma={class:"footer row is-unselectable",role:"contentinfo"},_a=["href"],pa=["textContent"],fa=["href","textContent"],ya=["href","textContent"],ga={__name:"Footer",setup(e){const n="HTTP Archive Viewer",o="Erik Bender",s="https://develerik.dev",a="https://github.com/develerik/har-viewer",u="ISC",d="0.7.1";return(w,b)=>(l(),i("footer",ma,[t("span",null,[t("a",{href:$(a),title:"Homepage",target:"_blank",rel:"noreferrer"},[t("b",{textContent:r($(n))},null,8,pa)],8,_a),f(" v"+r($(d))+" by ",1),t("a",{href:$(s),target:"_blank",title:"Author Homepage",rel:"noreferrer",textContent:r($(o))},null,8,fa),f(". The source code is licensed under the "),t("a",{href:`https://opensource.org/licenses/${$(u)}`,title:"License Page",target:"_blank",rel:"noreferrer",textContent:r($(u))},null,8,ya),f(" license. ")])]))}},ba=q(ga,[["__scopeId","data-v-2022ca0a"]]);function pe(e,n){for(let o=0;o<n.length;o++)if(e>=n[o][0]&&e<=n[o][1])return!0;return!1}function fe(e,n){for(let o=0;o<n.length;o++)if(new RegExp(`^${n[o].replace(/\*/g,".*")}$`).test(e))return!0;return!1}function ae(e){const n=e.split(",");return{includes:n.filter(o=>!o.startsWith("!")),excludes:n.filter(o=>o.startsWith("!")).map(o=>o.replace("!",""))}}function $a(e,n){for(let o=e.length-1;o>=0;o--){if(n.methods){const{includes:s,excludes:a}=ae(n.methods),u=s.includes(e[o].request.method.toLowerCase());if(a.includes(e[o].request.method.toLowerCase())){e.splice(o,1);continue}if(s.length!==0&&!u){e.splice(o,1);continue}}if(n.status){const s=n.status.split(","),a=s.filter(m=>!m.startsWith("!")&&!m.includes("-")),u=s.filter(m=>!m.startsWith("!")&&m.includes("-")).map(m=>{const v=m.split("-");return[Number(v[0]),Number(v[1])]}),d=s.filter(m=>m.startsWith("!")&&!m.includes("-")).map(m=>m.replace("!","")),w=s.filter(m=>m.startsWith("!")&&m.includes("-")).map(m=>{const v=m.replace("!","").split("-");return[Number(v[0]),Number(v[1])]}),b=a.includes(e[o].response.status.toString())||pe(e[o].response.status,u);if(d.includes(e[o].response.status.toString())||pe(e[o].response.status,w)){e.splice(o,1);continue}if((a.length!==0||u.length)!==0&&!b){e.splice(o,1);continue}}if(n.resType){const{includes:s,excludes:a}=ae(n.resType),u=s.includes(e[o]._harviewer.resourceType.toLowerCase());if(a.includes(e[o]._harviewer.resourceType.toLowerCase())){e.splice(o,1);continue}if(s.length!==0&&!u){e.splice(o,1);continue}}if(n.domains){const{includes:s,excludes:a}=ae(n.domains),u=s.includes(new URL(e[o].request.url).hostname.toLowerCase())||fe(new URL(e[o].request.url).hostname.toLowerCase(),s);if(a.includes(new URL(e[o].request.url).hostname.toLowerCase())||fe(new URL(e[o].request.url).hostname.toLowerCase(),a)){e.splice(o,1);continue}s.length!==0&&!u&&e.splice(o,1)}}}function ye(e,n){if(!n){for(let s=0;s<e.length;s++)delete e[s]._harviewer.group;return}for(let s=0;s<e.length;s++){let a="";n==="method"?a=e[s].request.method:n==="status"?e[s].response.status===0?a=e[s].response.statusText||e[s].response._error||"Unknown":a=e[s].response.status:n==="status-type"?e[s].response.status>0&&e[s].response.status<200?a="Informational":e[s].response.status>199&&e[s].response.status<300?a="Success":e[s].response.status>299&&e[s].response.status<400?a="Redirection":e[s].response.status>399&&e[s].response.status<500?a="Client Error":e[s].response.status>499?a="Server Error":a="Unknown":n==="resource-type"?a=e[s]._harviewer.resourceType:n==="domain"&&(a=new URL(e[s].request.url).hostname),e[s]._harviewer.group=a}let o;n==="resource-type"||n==="domain"||n==="status"?o=(s,a)=>A(s.group,a.group):n==="status-type"?o=(s,a)=>A(me[s.group],me[a.group]):n==="method"&&(o=(s,a)=>A(_e[s.group],_e[a.group])),o&&e.sort(o)}function wa(e,n){let o;switch(n){case"status":o=(s,a)=>A(s.response.status,a.response.status);break;case"status-reverse":o=(s,a)=>A(a.response.status,s.response.status);break;case"timing":o=(s,a)=>A(s.time,a.time);break;case"timing-reverse":o=(s,a)=>A(a.time,s.time);break;case"reqSize":o=(s,a)=>A(s._harviewer.request.totalSize,a._harviewer.request.totalSize);break;case"reqSize-reverse":o=(s,a)=>A(a._harviewer.request.totalSize,s._harviewer.request.totalSize);break;case"resSize":o=(s,a)=>A(s._harviewer.response.totalSize,a._harviewer.response.totalSize);break;case"resSize-reverse":o=(s,a)=>A(a._harviewer.response.totalSize,s._harviewer.response.totalSize);break;default:o=(s,a)=>A(s._harviewer.id,a._harviewer.id);break}e.sort(o)}function Ca(e,n,o){const s=[...e];return n.filter&&!o&&$a(s,n.filter),n.sortBy&&wa(s,n.sortBy),n.groupBy?ye(s,n.groupBy):ye(s),s}const xa={delimiter:",",msExcelCompatible:!1};function Ta(e,n){const o={...xa,...n},s=[];o.msExcelCompatible&&s.push(`sep=${o.delimiter}`),s.push("time,method,url,status,time,request-size,response-size,http-version,remote-address");for(let a=0;a<e.log.entries.length;a++){const u=e.log.entries[a];let d="";d+=`"${u.startedDateTime}"`,d+=`,"${u.request.method.toUpperCase()}"`,d+=`,"${u.request.url}"`,d+=`,"${u.response.status}"`,d+=`,"${u.time}"`,d+=`,"${u._harviewer.request.totalSize}"`,d+=`,"${u._harviewer.response.totalSize}"`,d+=`,"${u.request.httpVersion}"`,d+=`,"${u.serverIPAddress}"`,s.push(d)}return s.join(`
`)}function ka(e){const n={...e};for(let o=0;o<n.log.entries.length;o++)delete n.log.entries[o]._harviewer;return JSON.stringify(n)}function Sa(e){const n=le();let o=null;if(e.request.postData){let s=null;switch(e.request.postData.mimeType){case"application/x-www-form-urlencoded":s="urlencoded";break;case"application/octet-stream":s="file";break;case"multipart/form-data":s="formdata";break;case"application/graphql":case"application/graphql+json":s="graphql";break;default:s="raw";break}o={mode:s},s==="urlencoded"&&e.request.params?o.urlencoded=e.request.postData.params.map(a=>({key:a.name,value:a.value})):s==="formdata"&&e.request.params?o.formdata=e.request.postData.params.map(a=>({key:a.name,value:a.value})):e.request.postData.text&&(o.raw=e.request.postData.text)}return{id:n,name:e.request.url.split("?")[0],description:e.response.status===0?"Blocked":null,request:{url:e.request.url,method:e.request.method.toUpperCase(),header:e.request.headers.map(s=>({key:s.name,value:s.value})),body:o},response:[{id:le(),originalRequest:n,responseTime:e.time,header:e.response.headers.map(s=>({key:s.name,value:s.value})),body:e.response.content.text,status:`${e.response.status} ${e.response.statusText}`,code:e.response.status}]}}function Ea(e,n){const o=[];for(let a=0;a<n.log.entries.length;a++){const u=Sa(n.log.entries[a]);o.push(u)}const s={info:{name:e,schema:"https://schema.getpostman.com/json/collection/v2.1.0/collection.json",description:"Generated by HTTP Archive Viewer",_postman_id:le()},item:o};return JSON.stringify(s)}const ge=["authorization","email","password","client_id","client_secret","token","access_token","id_token"];function Ra(e,n){n&&(n=n.split(",")),ue(e,(o,s)=>{s==="name"&&(n||ge).includes(o.name.toLowerCase())?o.value="*** Redacted ***":(n||ge).includes(s.toLowerCase())&&(o[s]="*** Redacted ***")})}const Da=Ta,Oa=ka,Ia=Ea,Aa=Ra;function qa(e){document.querySelector("html").dataset.theme=e}function Na(){return window.localStorage.getItem("theme")||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function La(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")}const za=e=>(P("data-v-ac7602c5"),e=e(),U(),e),Pa=za(()=>t("h1",null,"HTTP Archive Viewer",-1)),Ua={key:0,class:"spinner"},Fa=["src"],Ma={key:1,class:"error column"},Va=["src"],Ba=["textContent"],Ha=["textContent"],ja={key:2,class:"row is-unselectable"},Wa={key:3},Ga={__name:"Shell",setup(e){const n=y(null),o=y(""),s=y(!1),a=y(null),u=y(!1),d=y(!1),w=y(!1),b=y(!1),S=y(!1),m=y({filter:{methods:"",status:"",resType:"",domains:""},sortBy:"",groupBy:""}),v=La(),h=y([]);let p=null;const L=k=>{const C=p===k.filter;h.value=Ca(C?h.value:n.value.entries,k,C),p=k.filter,m.value=k,u.value=!1},E=()=>{u.value=!1,d.value=!d.value},_=async k=>{b.value=!1,s.value=!0,o.value=k.src;try{n.value=k.data,u.value=!1,d.value=!1,m.value={filter:{methods:"",status:"",resType:"",domains:""},sortBy:"",groupBy:""},h.value=k.data.entries,a.value=null}catch(C){n.value=null,h.value=null,a.value=C.message}finally{s.value=!1}},x=k=>{let C=k.onlyFiltered?{log:{...n.value,creator:{name:"HTTP Archive Viewer",version:"0.7.1"},entries:h.value}}:{log:{...n.value,creator:{name:"HTTP Archive Viewer",version:"0.7.1"}}};k.redact&&Aa(C.log.entries,k.redactWordList);let z="",V="";switch(k.format){case"har":z="application/json",V=".har",C=Oa(C);break;case"postman":z="application/json",V=".postman_collection.json",C=Ia(k.filename,C);break;case"csv":z="text/csv",V=".csv",C=Da(C,{msExcelCompatible:k.csvExcel.csvExcel});break;default:z="text/plain",V=".txt"}const F=document.createElement("a");F.setAttribute("href",`data:${z};charset=utf-8,${encodeURIComponent(C)}`),F.setAttribute("download",k.filename+V),F.style.display="none",document.body.appendChild(F),F.click(),document.body.removeChild(F),S.value=!1},se=async k=>{switch(k){case"export":S.value=!0;break;case"open":b.value=!0;break;case"sort-and-filter":if(d.value){u.value=!1,d.value=!1;return}u.value=!0;break;case"sort-and-filter_attached":if(d.value){u.value=!1,d.value=!1;return}E(),u.value=!0;break;case"info":w.value=!0;break}};return Te(()=>qa(Na())),be(async()=>{window.height=window.innerHeight;const C=new URLSearchParams(window.location.search).get("file");if(C){s.value=!0;const V=await(await window.fetch(C)).json();try{await _({src:C,data:ie(V),filter:{}})}catch(F){n.value=null,h.value=null,a.value=F.message,s.value=!1}}}),(k,C)=>(l(),i(g,null,[X(Me,{"is-loaded":!!n.value,onAction:se},{default:I(()=>[Pa]),_:1},8,["is-loaded"]),s.value?(l(),i("main",Ua,[t("img",{alt:"Loading...",src:$($e)},null,8,Fa)])):c("",!0),a.value&&!s.value?(l(),i("main",Ma,[t("img",{alt:"Error Symbol",role:"none",src:$(Se)},null,8,Va),t("span",{textContent:r(a.value)},null,8,Ba),t("span",{textContent:r(o.value)},null,8,Ha)])):c("",!0),!s.value&&!a.value&&n.value?(l(),i("main",ja,[X(va,{data:h.value},null,8,["data"]),u.value||d.value?(l(),N(re(d.value?"aside":"div"),{key:0,class:"propdialog-container"},{default:I(()=>[X(bs,{filter:m.value,"is-attached":d.value,onApply:L,onClose:C[0]||(C[0]=z=>u.value=!1),onAttach:E},null,8,["filter","is-attached"])]),_:1})):c("",!0)])):c("",!0),!a.value&&!s.value&&!n.value?(l(),i("main",Wa)):c("",!0),$(v)?c("",!0):(l(),N(ba,{key:4})),w.value&&n.value?(l(),N(et,{key:5,creator:n.value.creator,file:o.value,version:n.value.version,onClose:C[1]||(C[1]=z=>w.value=!1)},null,8,["creator","file","version"])):c("",!0),b.value?(l(),N(qt,{key:6,onOpen:_,onClose:C[2]||(C[2]=z=>b.value=!1)})):c("",!0),S.value?(l(),N(Os,{key:7,onExport:x,onClose:C[3]||(C[3]=z=>S.value=!1)})):c("",!0)],64))}},Ka=q(Ga,[["__scopeId","data-v-ac7602c5"]]);ke(Ka).mount(".shell");
